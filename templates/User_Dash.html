{% extends "base.html" %}

{% block title %} Users Dashboard | EaseHeaven {% endblock %}

{% block navbar %}
<div class="container-fluid">


    <div class="ml-auto" style="display: flex; align-items: flex-start; gap: 10px; ">
        <H5 style="color: white; margin-left: 500px; margin-top: 8px;" >Welcome, User</H5>
        
     


  <div style="position: relative;">
    <img src="{{ url_for('static', filename='91.png') }}" alt="Profile" id="profile-icon" width="30" height="24" class="d-inline-block align-text-top" style="margin-top: 8px; cursor: pointer;">

    <div id="profile-dropdown" style="
          display: none;
          position: absolute;
          top: 40px;
          right: 0;
          background-color: #fff;
          border-radius: 6px;
          box-shadow: 0 4px 8px rgba(0,0,0,0.2);
          width: 210px;
          z-index: 1000;">
      <a href="/Booking_management" style="display: block; padding: 10px; text-decoration: none; color: #333;">Booking Management</a>
      <a href="/logout1" style="display: block; padding: 10px; text-decoration: none; color: #333;">Logout</a>
    </div>
  </div>
</div>
</div>


{% endblock %}

{% block content %}
<div class="heading" style="margin-left: 180px; margin-top: 100px;">
    <h1 style="color: white;">What</h1>
    <h4 style="color: white;">Are You Looking For ?</h4>

    <div class="Servicelist" style="display: flex; align-items: flex-start;">
        <img src="{{ url_for('static', filename='57.PNG') }}" style=" border-radius: 10px; height: 600px; width: 400px; margin-top: 10px;">

        <div class="card" style="height: auto; width: 500px; margin-left: 250px; border-radius: 10px;">
            <div class="mb-3" style="width: 400px; margin-left: 40px; margin-top: 20px;">
                <h4 style="color: black;">Your Comfort, Just a Click Away</h4>
                <br>

                {% if error %}
        <p style="color: red;">{{ error }}</p>
    {% endif %}
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <p class="alert {{ category }}">{{ message }}</p>
            {% endfor %}
        {% endif %}
    {% endwith %}


                <form action="/cust_ds" method="post">
                <label class="form-label" style="color: black;">Enter Pincode</label>
                
                <input type="text" class="form-control" name="pincode" value="{{ pins }}" placeholder="Pincode"><br>
                <button class="btn btn-success" name="fetch_service" style="width: 200px; height: 40px; margin-left: 75px;">Fetch Services</button><br>
          

          
       


                <label class="form-label" style="color: black; margin-top: 10px;">Choose required Services</label>
                        <select id="services" name="service" class="form-control">
    <option value="">Select a service</option>
    {% if services %}
        {% for service_item in services %}
            <option value="{{ service_item }}">{{ service_item }}</option>
        {% endfor %}
    {% endif %}
</select><br>

               

                <label class="form-label" style="color: black; margin-top: 10px;">Enter Duration</label>
                <input type="text" class="form-control" name="days" placeholder="Duration">

                <label class="form-label" style="color: black; margin-top: 10px;">Date of Start</label>
                <input type="date" class="form-control" name="date1" placeholder="Date of Start">

                <label class="form-label" style="color: black; margin-top: 10px;">Date of Ending</label>
                <input type="date" class="form-control" name="date2" placeholder="Date of Ending">

                <button type="submit" class="btn btn-primary" name="book" style="margin-top: 20px; width: 400px; background-color: black; color: white;">Book Now</button>
              </form>
              </div>
          </div>
    </div>
    

    <h3 style="color: white;">How EaseHeaven Service Work?</h3>
    <img src="{{ url_for('static', filename='58.PNG') }}" alt="How it works" width="1170" height="300" style="margin-top: 20px; border-radius: 8px;">

    
    <div style="display: flex; gap: 100px;">
      <img src="{{ url_for('static', filename='89.PNG') }}" style=" height: 300px; width: 400px; margin-top: 100px; margin-left: 80px; ">



    <div class="card" style="height: 380px; width: 500px; border-radius: 15px; background-color: white; margin-top: 50px;">
          <div class="mb-3" style="width: 250px; margin-left: 25px; margin-top: 20px;">
          <h5 style="color: black; margin-left: 10px;">Write a Customer Review</h5>
      </div>
      <form class="d-flex" style="margin-top: 40px; width: 500px;" action="/cust_ds" method="post">
        <textarea class="form-control mr-2" style="margin-left: 50px; height: 200px; width: 300px;" name="review" placeholder="Review" aria-label="Write your review here"></textarea>
        <button class="btn btn-outline-light" type="submit" name="submit_review" style="width: 100px; color: white; background-color: black;">Submit Review</button>
      </form>
      </div>
      </div>
</div>
</div>




{% endblock %}

{% block scripts %}
<script>
    const icon = document.getElementById("profile-icon");
    const dropdown = document.getElementById("profile-dropdown");

    icon.addEventListener("click", function(e){
        e.stopPropagation();
        dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";


    });

    window.addEventListener("click", function () {
    dropdown.style.display = "none";
  });

  


</script>
{% endblock %}